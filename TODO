DEPHECTO TASK LIST (-*- text -*-)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
$Id: $

- Determine how to implement work flow
  - If users can define custom status and resolutions, how does
    Dephecto know what actions are to be permitted?
  - The client could make these determinations, but it makes more
    sense for the workflow to be defined in Dephecto.
- Implement models, tests

- Define database schema
  - projects
    - has_many :components
    - has_many :milestones
    - has_many :versions
    - name
    - description
    - archived (no new entries allowed)
    - votes_per_user
    - votes_to_confirm
    - created
    - updated
  - components
    - belongs_to :project
    - has_many :issues
    - name
    - description
    - created
    - updated
  - issues
    - belongs_to :component
    - has_many :comments
    - has_many :votes
    - has_many :tags
    - has_many :watchers
    - has_many :changes
    - has_many :links
    - has_many :attachments
    - has_one :status
    - has_one :severity
    - has_one :resolution
    - has_one :type
    - has_one :milestone
    - has_one :version
    - assignee
    - reporter
    - summary
    - description => stored as first comment
    - due_date
    - created
    - updated
  - resolutions
    - sort_key
    - value
      (fixed, invalid, wontfix, duplicate, worksforme, later)
    - archived
  - status
    - sort_key
    - value
      (unconfirmed, new, assigned, reopened, resolved, verified, closed)
    - archived
  - severities
    - sort_key
    - value
      (blocker, critical, major, minor, trivial)
    - archived
  - types
    - sort_key
    - value
      (defect, improvement, feature, task)
    - archived
  - comments
    - belongs_to :issue
    - user
    - comment
    - type (for generated comments)
    - created
    - updated
  - votes
    - belongs_to :issue
    - user
    - count (how many votes user applied to issue)
  - milestones
    - belongs_to :project
    - value
    - due_date
  - versions
    - belongs_to :project
    - value
  - attachments
    - belongs_to :issue
    - user
    - mime_type
    - filename
    - description
    - length
    - archived (removed from the issue)
    - attachment_data_id
    - created
    - updated
  - attachment_data
    - id
    - blob
  - tags
    - belongs_to :issue
    - value
  - links
    - belongs_to :issue
    - type (blocks, depends, related, duplicate)
    - other_issue
  - changes
    - belongs_to :issue
    - changed field
    - changed value (as string)
    - change type (add, remove, modify)
    - attachment ID, if a file was attached
    - datestamp
    - user
  - watchers
    (users who want notification when issues change)
    - belongs_to :issue
    - user
